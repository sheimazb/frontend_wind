<div class="mx-auto max-w-screen-2xl flex flex-col h-screen kanban-container">
  <div class="p-4 md:p-6 2xl:p-8">
    <div
      class="mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"
    >
      <h2 class="text-2xl font-bold text-black dark:text-white">
        Kanban Board
      </h2>
      <nav>
        <ol class="flex items-center gap-2">
          <li>
            <a
              class="font-medium dark:text-gray-300 text-gray-700 hover:text-blue-500 transition-colors"
              routerLink="/dashboard"
              >Dashboard /</a
            >
          </li>
          <li class="font-medium text-blue-500">Kanban Board</li>
        </ol>
      </nav>
    </div>

    <!-- Filter Controls -->
    <div
      class="mb-6 bg-white dark:bg-slate-800 dark:border-gray-700 border rounded-lg shadow-sm p-4"
    >
      <div class="flex flex-wrap gap-4 items-center justify-between">
        <!-- Search Box -->
        <div class="flex-1 min-w-[200px]">
          <div class="relative">
            <input
              id="searchInput"
              type="text"
              [(ngModel)]="searchQuery"
              (keyup.enter)="applySearchFilter()"
              placeholder="Search cards..."
              class="w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-gray-700 dark:text-gray-200 dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
            />
            <mat-icon class="absolute left-3 top-2 text-gray-400"
              >search</mat-icon
            >
          </div>
        </div>

        <!-- Filter Buttons -->
        <div class="flex gap-2">
          <button
            (click)="resetFilters()"
            class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 transition-colors flex items-center gap-1 shadow-sm"
          >
            <mat-icon class="text-base">refresh</mat-icon>
            <span>Reset</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content Area with Split View -->
  <div class="flex flex-1 overflow-hidden">
    <!-- Kanban Board (Left Side) -->
    <div
      class="flex-1 overflow-auto p-4"
      [class.w-full]="!showCardDetails"
      [class.lg:w-2/3]="showCardDetails"
    >
      <!-- Kanban Board -->
      <div class="kanban-board">
        <!-- Generate columns dynamically -->
        <div
          *ngFor="let column of columns"
          class="rounded-lg border overflow-hidden flex flex-col h-full kanban-column"
          [ngClass]="{
            'border-blue-200 dark:border-blue-800': column.color === 'blue',
            'border-green-200 dark:border-green-800': column.color === 'green',
            'border-teal-200 dark:border-teal-800': column.color === 'teal',
            'border-purple-200 dark:border-purple-800': column.color === 'purple'
          }"
        >
          <!-- Column Header -->
          <div
            class="column-header"
            [ngClass]="{
              'bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800': column.color === 'blue',
              'bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-800': column.color === 'green',
              'bg-teal-50 dark:bg-teal-900/20 border-b border-teal-200 dark:border-teal-800': column.color === 'teal',
              'bg-purple-50 dark:bg-purple-900/20 border-b border-purple-200 dark:border-purple-800': column.color === 'purple'
            }"
          >
            <h3
              class="font-medium"
              [ngClass]="{
                'text-blue-800 dark:text-blue-300': column.color === 'blue',
                'text-green-800 dark:text-green-300': column.color === 'green',
                'text-teal-800 dark:text-teal-300': column.color === 'teal',
                'text-purple-800 dark:text-purple-300': column.color === 'purple'
              }"
            >
              <mat-icon
                [ngClass]="{
                  'text-blue-600 dark:text-blue-400': column.color === 'blue',
                  'text-green-600 dark:text-green-400': column.color === 'green',
                  'text-teal-600 dark:text-teal-400': column.color === 'teal',
                  'text-purple-600 dark:text-purple-400': column.color === 'purple'
                }"
              >
                {{ column.icon }}
              </mat-icon>
              {{ column.name }}
              <span
                class="ticket-count ml-2"
                [ngClass]="{
                  'bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-300': column.color === 'blue',
                  'bg-green-200 dark:bg-green-800 text-green-800 dark:text-green-300': column.color === 'green',
                  'bg-teal-200 dark:bg-teal-800 text-teal-800 dark:text-teal-300': column.color === 'teal',
                  'bg-purple-200 dark:bg-purple-800 text-purple-800 dark:text-purple-300': column.color === 'purple'
                }"
              >
                {{ column.cards.length }}
              </span>
            </h3>
          </div>

          <!-- Cards Container - Dropzone -->
          <div
            [id]="column.id"
            cdkDropList
            [cdkDropListData]="column.cards"
            [cdkDropListConnectedTo]="getConnectedLists(column.id)"
            (cdkDropListDropped)="onDrop($event)"
            class="column-content"
          >
            <!-- Empty Column Message -->
            <div *ngIf="column.cards.length === 0" class="empty-column">
              <mat-icon class="text-gray-400 mb-2">{{ column.icon }}</mat-icon>
              <p>No cards in this column</p>
            </div>

            <!-- Card Items -->
            <div
              *ngFor="let card of column.cards"
              cdkDrag
              (click)="viewCardDetails(card)"
              class="ticket-card"
              [class.shadow-md]="selectedCard?.id === card.id"
              [ngClass]="{
                'border-l-4 border-blue-500': column.color === 'blue',
                'border-l-4 border-green-500': column.color === 'green',
                'border-l-4 border-teal-500': column.color === 'teal',
                'border-l-4 border-purple-500': column.color === 'purple',
                'ring-2 ring-blue-500 dark:ring-blue-400': selectedCard?.id === card.id
              }"
            >
              <!-- Drag Preview -->
              <div
                *cdkDragPreview
                class="ticket-card p-3 rounded-md shadow-md w-64 bg-white dark:bg-gray-700"
                [ngClass]="{
                  'border-l-4 border-blue-500': column.color === 'blue',
                  'border-l-4 border-green-500': column.color === 'green',
                  'border-l-4 border-teal-500': column.color === 'teal',
                  'border-l-4 border-purple-500': column.color === 'purple'
                }"
              >
                <div class="flex justify-between items-start mb-2">
                  <span
                    class="text-sm font-medium text-gray-900 dark:text-white"
                    >#{{ card.id }}</span
                  >
                  <span
                    [ngClass]="{
                      'priority-low': card.priority === 'LOW',
                      'priority-medium': card.priority === 'MEDIUM',
                      'priority-high': card.priority === 'HIGH',
                      'priority-critical': card.priority === 'CRITICAL'
                    }"
                    class="priority-chip"
                  >
                    {{ card.priority }}
                  </span>
                </div>
                <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-1">
                  {{ card.title }}
                </p>
              </div>

              <!-- Card Content -->
              <div class="cdkDragHandle">
                <div class="flex justify-between items-start mb-2">
                  <span class="ticket-id">#{{ card.id }}</span>
                  <span
                    [ngClass]="{
                      'priority-low': card.priority === 'LOW',
                      'priority-medium': card.priority === 'MEDIUM',
                      'priority-high': card.priority === 'HIGH',
                      'priority-critical': card.priority === 'CRITICAL'
                    }"
                    class="priority-chip"
                  >
                    {{ card.priority }}
                  </span>
                </div>
                <h4 class="ticket-title">{{ card.title }}</h4>
                <p class="ticket-description">
                  {{ card.description }}
                </p>

                <div class="ticket-footer">
                  <div class="flex items-center">
                    <mat-icon class="text-sm mr-1 opacity-80">person</mat-icon>
                    <span class="truncate max-w-[100px]">{{
                      card.assignee
                    }}</span>
                  </div>
                  <span>{{ formatDate(card.date) }}</span>
                </div>

                <!-- Add drag handle -->
                <mat-icon class="drag-handle" cdkDragHandle
                  >drag_indicator</mat-icon
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Details Panel (Right Side) -->
    <div
      *ngIf="showCardDetails"
      class="hidden lg:block lg:w-1/3 border-l border-gray-200 dark:border-gray-700 overflow-auto details-panel"
    >
      <div
        class="sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center"
      >
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2">
          <span class="text-sm text-gray-500 dark:text-gray-400">#{{ selectedCard?.id }}</span>
          {{ selectedCard?.title }}
        </h3>
        <button
          (click)="closeCardDetails()"
          class="p-1.5 rounded-full text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:text-gray-300 dark:hover:bg-gray-700 transition-colors"
        >
          <mat-icon>close</mat-icon>
        </button>
      </div>

      <div class="flex h-full" *ngIf="selectedCard">
        <!-- Vertical Tab Navigation (Left Side) -->
        <div
          class="w-[60px] border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex flex-col items-center py-4"
        >
          <!-- Details Tab -->
          <button
            (click)="setActiveTab('details')"
            class="p-3 mb-2 w-full flex flex-col items-center justify-center relative tab-button"
            [class.active]="activeTab === 'details'"
          >
            <mat-icon class="mb-1">description</mat-icon>
            <span class="text-xs truncate">Details</span>
            <div *ngIf="activeTab === 'details'" class="tab-indicator"></div>
          </button>

          <!-- Activity Tab -->
          <button
            (click)="setActiveTab('activity')"
            class="p-3 mb-2 w-full flex flex-col items-center justify-center relative tab-button"
            [class.active]="activeTab === 'activity'"
          >
            <mat-icon class="mb-1">history</mat-icon>
            <span class="text-xs truncate">Activity</span>
            <div *ngIf="activeTab === 'activity'" class="tab-indicator"></div>
          </button>

          <!-- Solution Tab -->
          <button
            (click)="setActiveTab('solution')"
            class="p-3 mb-2 w-full flex flex-col items-center justify-center relative tab-button"
            [class.active]="activeTab === 'solution'"
          >
            <mat-icon class="mb-1">lightbulb</mat-icon>
            <span class="text-xs truncate">Solution</span>
            <div *ngIf="activeTab === 'solution'" class="tab-indicator"></div>
          </button>

          <!-- Comments Tab -->
          <button
            (click)="setActiveTab('comments')"
            class="p-3 mb-2 w-full flex flex-col items-center justify-center relative tab-button"
            [class.active]="activeTab === 'comments'"
          >
            <mat-icon class="mb-1">comment</mat-icon>
            <span class="text-xs truncate">Comments</span>
            <div *ngIf="activeTab === 'comments'" class="tab-indicator"></div>
          </button>
        </div>

        <!-- Tab Content (Right Side) -->
        <div class="flex-1 overflow-auto">
          <!-- Card Header - Common to all tabs -->
          <div class="p-4 border-b border-gray-200 dark:border-gray-700">
            <div class="flex justify-between items-start mb-2">
              <span class="text-xs text-gray-500 dark:text-gray-400">Ticket ID: #{{ selectedCard.id }}</span>
              <span
                [ngClass]="{
                  'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300':
                    selectedCard.priority === 'LOW',
                  'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300':
                    selectedCard.priority === 'MEDIUM',
                  'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300':
                    selectedCard.priority === 'HIGH',
                  'bg-red-600 text-white dark:bg-red-900 dark:text-red-300':
                    selectedCard.priority === 'CRITICAL'
                }"
                class="text-xs font-medium px-2 py-0.5 rounded-full"
              >
                {{ selectedCard.priority }}
              </span>
            </div>
            <p class="text-gray-600 dark:text-gray-300">
              {{ selectedCard.description }}
            </p>
          </div>

          <!-- Details Tab Content -->
          <div *ngIf="activeTab === 'details'" class="p-4">
            <div class="space-y-6">
              <!-- Status Section -->
              <div>
                <h5
                  class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wider"
                >
                  Status
                </h5>
                <div class="flex flex-wrap items-center gap-4 mb-4">
                  <div class="flex items-center">
                    <div class="w-2 h-2 bg-blue-500 rounded-full mr-2"></div>
                    <span class="text-sm font-medium">TO DO</span>
                  </div>
                  <mat-icon class="text-gray-400">arrow_forward</mat-icon>
                  <div class="flex items-center">
                    <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                    <span class="text-sm font-medium">IN PROGRESS</span>
                  </div>
                </div>
              </div>

              <!-- Details Section -->
              <div>
                <h5
                  class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 uppercase tracking-wider"
                >
                  Details
                </h5>
                <div
                  class="bg-gray-50 dark:bg-gray-700 rounded-md p-4 space-y-3"
                >
                  <!-- Assignee -->
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-500 dark:text-gray-400"
                      >Assignee</span
                    >
                    <div class="flex items-center">
                      <div
                        class="h-6 w-6 rounded-full bg-blue-500 flex items-center justify-center text-white mr-2 text-xs"
                      >
                        {{ selectedCard.assignee.charAt(0).toUpperCase() }}
                      </div>
                      <span
                        class="text-sm font-medium text-gray-900 dark:text-white"
                        >{{ selectedCard.assignee }}</span
                      >
                    </div>
                  </div>

                  <!-- Reporter -->
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-500 dark:text-gray-400"
                      >Reporter</span
                    >
                    <div class="flex items-center">
                      <div
                        class="h-6 w-6 rounded-full bg-purple-500 flex items-center justify-center text-white mr-2 text-xs"
                      >
                        A
                      </div>
                      <span
                        class="text-sm font-medium text-gray-900 dark:text-white"
                        >Admin</span
                      >
                    </div>
                  </div>

                  <!-- Created Date -->
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-500 dark:text-gray-400"
                      >Created</span
                    >
                    <span
                      class="text-sm font-medium text-gray-900 dark:text-white"
                      >{{ formatDate(selectedCard.date) }}</span
                    >
                  </div>

                  <!-- Updated Date -->
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-500 dark:text-gray-400"
                      >Updated</span
                    >
                    <span
                      class="text-sm font-medium text-gray-900 dark:text-white"
                      >{{ formatDate(selectedCard.date) }}</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Activity Tab Content -->
          <div *ngIf="activeTab === 'activity'" class="p-4">
            <div
              class="border-l-2 border-gray-200 dark:border-gray-600 pl-3 space-y-4"
            >
              <!-- Activity Item -->
              <div class="relative">
                <div
                  class="absolute -left-5 mt-1 h-3 w-3 rounded-full bg-blue-500"
                ></div>
                <div class="mb-1 flex items-center">
                  <div
                    class="h-5 w-5 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs mr-2"
                  >
                    A
                  </div>
                  <span
                    class="text-sm font-medium text-gray-900 dark:text-white"
                    >Admin</span
                  >
                  <span class="ml-2 text-xs text-gray-500 dark:text-gray-400"
                    >Today at 9:15 AM</span
                  >
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                  Assigned to {{ selectedCard.assignee }}
                </p>
              </div>

              <!-- Activity Item -->
              <div class="relative">
                <div
                  class="absolute -left-5 mt-1 h-3 w-3 rounded-full bg-blue-500"
                ></div>
                <div class="mb-1 flex items-center">
                  <div
                    class="h-5 w-5 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs mr-2"
                  >
                    A
                  </div>
                  <span
                    class="text-sm font-medium text-gray-900 dark:text-white"
                    >Admin</span
                  >
                  <span class="ml-2 text-xs text-gray-500 dark:text-gray-400"
                    >Yesterday at 2:30 PM</span
                  >
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                  Created this task
                </p>
              </div>
            </div>
          </div>

          <!-- Solution Tab Content -->
          <div *ngIf="activeTab === 'solution'" class="p-4">
            <div class="space-y-4">
              <h5
                class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 uppercase tracking-wider"
              >
                Solution
              </h5>

              <!-- Solution Content -->
              <div class="bg-gray-50 dark:bg-gray-700 rounded-md p-4">
                <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
                  This issue requires the following steps to resolve:
                </p>

                <ol
                  class="list-decimal pl-5 space-y-2 text-sm text-gray-600 dark:text-gray-300"
                >
                  <li>Verify user permissions for the affected module</li>
                  <li>Check database connection settings</li>
                  <li>Update the API endpoint to handle the edge case</li>
                  <li>Add validation for input parameters</li>
                </ol>

                <!-- Code Block Example -->
                <div
                  class="mt-4 bg-gray-100 dark:bg-gray-800 p-3 rounded-md font-mono text-sm overflow-x-auto"
                >
                  <pre>
function fixIssue() {{ "{" }}
  // Step 1: Check permissions
  const hasPermission = checkUserPermission();
  
  // Step 2: Validate input
  if (!validateInput()) {{ "{" }}
    return handleError();
  {{ "}" }}
  
  // Step 3: Process request
  return processAndUpdate();
{{ "}" }}</pre
                  >
                </div>
              </div>

              <!-- Add Solution Section -->
              <div class="mt-6">
                <h5
                  class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                >
                  Add to Solution
                </h5>
                <textarea
                  placeholder="Add notes or steps to the solution..."
                  class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-gray-700 dark:text-gray-200 dark:bg-gray-700 h-24 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                >
                </textarea>
                <div class="mt-2 flex justify-end">
                  <button class="btn btn-primary">Add to Solution</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Comments Tab Content -->
          <div *ngIf="activeTab === 'comments'" class="p-4">
            <div class="space-y-4">
              <!-- Add Comment Section -->
              <div>
                <h5
                  class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
                >
                  Add Comment
                </h5>
                <textarea
                  placeholder="Write a comment..."
                  class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-gray-700 dark:text-gray-200 dark:bg-gray-700 h-24 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                >
                </textarea>
                <div class="mt-2 flex justify-end">
                  <button class="btn btn-primary">Add Comment</button>
                </div>
              </div>

              <!-- Comments List -->
              <div class="mt-6 space-y-6">
                <h5
                  class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 uppercase tracking-wider"
                >
                  Comments
                </h5>

                <!-- Comment Item -->
                <div class="comment-container">
                  <div class="flex items-start mb-2">
                    <div class="avatar bg-green-500 mr-3">T</div>
                    <div class="flex-1">
                      <div class="flex justify-between items-center">
                        <span
                          class="text-sm font-medium text-gray-900 dark:text-white"
                          >Tech Support</span
                        >
                        <span class="text-xs text-gray-500 dark:text-gray-400"
                          >Today at 10:30 AM</span
                        >
                      </div>
                      <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
                        I've reviewed this issue and it appears to be related to
                        the recent API changes. Will look into it further.
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Comment Item -->
                <div class="comment-container">
                  <div class="flex items-start mb-2">
                    <div class="avatar bg-blue-500 mr-3">D</div>
                    <div class="flex-1">
                      <div class="flex justify-between items-center">
                        <span
                          class="text-sm font-medium text-gray-900 dark:text-white"
                          >Developer</span
                        >
                        <span class="text-xs text-gray-500 dark:text-gray-400"
                          >Yesterday at 3:45 PM</span
                        >
                      </div>
                      <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
                        Can you provide more details on the steps to reproduce
                        this issue? I've tried testing it but couldn't replicate
                        the behavior.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Card Details Drawer -->
    <div
      *ngIf="showCardDetails"
      class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"
    >
      <div
        class="bg-white dark:bg-gray-800 rounded-t-xl w-full h-4/5 overflow-auto animate-slide-up"
      >
        <!-- Mobile drawer header -->
        <div
          class="sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center"
        >
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
            {{ selectedCard?.title }}
          </h3>
          <button
            (click)="closeCardDetails()"
            class="p-1.5 rounded-full text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:text-gray-300 dark:hover:bg-gray-700 transition-colors"
          >
            <mat-icon>close</mat-icon>
          </button>
        </div>

        <!-- Mobile Tabs -->
        <div
          class="flex overflow-x-auto border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900"
        >
          <button
            (click)="setActiveTab('details')"
            class="px-4 py-2 whitespace-nowrap tab-button"
            [class.active]="activeTab === 'details'"
            [class.text-blue-600]="activeTab === 'details'"
            [class.border-b-2]="activeTab === 'details'"
            [class.border-blue-600]="activeTab === 'details'"
            [class.text-gray-500]="activeTab !== 'details'"
          >
            <span class="text-sm">Details</span>
          </button>

          <button
            (click)="setActiveTab('activity')"
            class="px-4 py-2 whitespace-nowrap tab-button"
            [class.active]="activeTab === 'activity'"
            [class.text-blue-600]="activeTab === 'activity'"
            [class.border-b-2]="activeTab === 'activity'"
            [class.border-blue-600]="activeTab === 'activity'"
            [class.text-gray-500]="activeTab !== 'activity'"
          >
            <span class="text-sm">Activity</span>
          </button>

          <button
            (click)="setActiveTab('solution')"
            class="px-4 py-2 whitespace-nowrap tab-button"
            [class.active]="activeTab === 'solution'"
            [class.text-blue-600]="activeTab === 'solution'"
            [class.border-b-2]="activeTab === 'solution'"
            [class.border-blue-600]="activeTab === 'solution'"
            [class.text-gray-500]="activeTab !== 'solution'"
          >
            <span class="text-sm">Solution</span>
          </button>

          <button
            (click)="setActiveTab('comments')"
            class="px-4 py-2 whitespace-nowrap tab-button"
            [class.active]="activeTab === 'comments'"
            [class.text-blue-600]="activeTab === 'comments'"
            [class.border-b-2]="activeTab === 'comments'"
            [class.border-blue-600]="activeTab === 'comments'"
            [class.text-gray-500]="activeTab !== 'comments'"
          >
            <span class="text-sm">Comments</span>
          </button>
        </div>

        <!-- Mobile Tab Content Container -->
        <div class="p-4" *ngIf="selectedCard">
          <!-- Same content as desktop tabs -->
        </div>
      </div>
    </div>
  </div>
</div>
